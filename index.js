!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("dear-image"),require("@seregpie/k-means-plus-plus")):"function"==typeof define&&define.amd?define(["dear-image","@seregpie/k-means-plus-plus"],n):n((e=e||self).DearImage,e.KMeansPlusPlus)}(this,function(e,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var t=function(){};t.mean=function(e){return"#"+n.mean(e).map(function(e){return Math.round(e).toString(16).padStart(2,"0")}).join("")},e.detectColorScheme=function(r){return e.loadFromExcept(r).then(function(e){for(var r=e.toImageData().data,u=[],a=0,o=r.length;a<o;a+=4)if(r[a+3]){var i=r[a+0],f=r[a+1],l=r[a+2];u.push([i,f,l])}var s,d=n(u,32).filter(function(e){return e.length/u.length>1/16}).sort(function(e,n){return n.length-e.length});if(d.length){var c=(s=d)[function(e){return e.length-1}(s)];return d.map(function(e){var n=Math.round(e.length/c.length);return[""+t.mean(e),n]})}return[]})}});

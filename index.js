!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("dear-image"),require("@seregpie/k-means-plus-plus")):"function"==typeof define&&define.amd?define(["dear-image","@seregpie/k-means-plus-plus"],t):t((e=e||self).DearImage,e.KMeansPlusPlus)}(this,(function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;e.detectColorScheme=function(e){return this.loadFromExcept(e).then((function(e){for(var n=e.scaleDownIn(256,256).toImageData().data,r=[],a=0,u=n.length;a<u;a+=4)if(n[a+3]){var o=n[a+0],l=n[a+1],i=n[a+2];r.push([o,l,i])}var f,p=t(r,4).filter((function(e){return e.length})).sort((function(e,t){return t.length-e.length}));if(p.length){var s=(f=p)[function(e){return e.length-1}(f)];return p.map((function(e){var n=Math.round(e.length/s.length);return["#"+t.mean.apply(t,e).map((function(e){return Math.round(e).toString(16).padStart(2,"0")})).join(""),n]}))}return[]}))}}));

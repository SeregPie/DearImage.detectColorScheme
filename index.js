!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("@seregpie/k-means-plus-plus"),require("dear-image")):"function"==typeof define&&define.amd?define(["@seregpie/k-means-plus-plus","dear-image"],n):n((e=e||self).KMeansPlusPlus,e.DearImage)}(this,function(e,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var t=function(){};t.mean=function(n){return"#"+e.mean(n).map(function(e){return Math.round(e).toString(16).padStart(2,"0")}).join("")},n.detectColorScheme=function(n){return this.loadFromExcept(n).then(function(n){for(var r=n.toImageData().data,a=[],u=0,o=r.length;u<o;u+=4)if(r[u+3]){var i=r[u+0],f=r[u+1],l=r[u+2];a.push([i,f,l])}var s,d=e(a,8,{distance:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return Math.pow(e.distance.apply(e,n),3)}}).sort(function(e,n){return n.length-e.length});if(d.length){var p=(s=d)[function(e){return e.length-1}(s)];return d.map(function(e){var n=Math.round(e.length/p.length);return[""+t.mean(e),n]})}return[]})}});

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("dear-image"),require("@seregpie/k-means-plus-plus")):"function"==typeof define&&define.amd?define(["dear-image","@seregpie/k-means-plus-plus"],t):t((e=e||self).DearImage,e.KMeansPlusPlus)}(this,(function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;e.detectColorScheme=function(e){return this.loadFromExcept(e).then((function(e){for(var n=e.scaleDownIn(256,256).toImageData().data,r=[],u=0,a=n.length;u<a;u+=4)if(n[u+3]){var o=n[u+0],i=n[u+1],f=n[u+2];r.push([o,i,f])}var l,s=t(r,4).filter((function(e){return e.length})).sort((function(e,t){return t.length-e.length}));if(s.length){var d=(l=s)[function(e){return e.length-1}(l)];return s.map((function(e){var n=Math.round(e.length/d.length);return["#"+t.mean(e).map((function(e){return Math.round(e).toString(16).padStart(2,"0")})).join(""),n]}))}return[]}))}}));
